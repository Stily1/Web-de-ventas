<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Detalle de Venta</title>

  <!-- 1ï¸âƒ£ Bootstrap CSS (CDN CORRECTO) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet">

  <!-- 2ï¸âƒ£ TU CSS GLOBAL (styles.css)
       ðŸ‘‰ AQUÃ se aplica la fuente estilo Apple
       ðŸ‘‰ Archivo ubicado en: src/main/resources/static/css/styles.css -->
  <link rel="stylesheet" th:href="@{/css/styles.css}">

</head>
<body class="container mt-4">

<h1 class="mb-3">ðŸ§¾ Detalle de Venta</h1>

<div class="mb-3">
  <p class="mb-1">
    <strong>ID:</strong> <span th:text="${venta.id}"></span>
  </p>
  <p class="mb-1">
    <strong>Fecha:</strong> <span th:text="${venta.fecha}"></span>
  </p>
  <p class="mb-0">
    <strong>Total:</strong> S/ <span th:text="${#numbers.formatDecimal(venta.total, 1, 2)}"></span>
  </p>
</div>

<hr>

<h2 class="mt-4">Items</h2>

<div th:if="${detalles == null or #lists.isEmpty(detalles)}">
  <p class="text-muted">Esta venta no tiene items.</p>
</div>

<table th:if="${detalles != null and !#lists.isEmpty(detalles)}"
       class="table table-bordered table-striped mt-3">
  <thead class="table-light">
  <tr>
    <th>Producto</th>
    <th>Precio Unit.</th>
    <th>Cantidad</th>
    <th>Subtotal</th>
  </tr>
  </thead>

  <tbody>
  <tr th:each="d : ${detalles}">
    <td th:text="${d.producto.nombre}"></td>
    <td th:text="${#numbers.formatDecimal(d.precioUnitario, 1, 2)}"></td>
    <td th:text="${d.cantidad}"></td>
    <td th:text="${#numbers.formatDecimal(d.subtotal, 1, 2)}"></td>
  </tr>
  </tbody>
</table>

<p class="mt-3">
  <a href="/ventas" class="me-2">â¬… Volver al historial</a> |
  <a href="/ventas/nueva" class="ms-2">âž• Nueva venta</a>
</p>

<!-- 3ï¸âƒ£ Bootstrap Bundle JS (solo JS, NO afecta fuentes) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
